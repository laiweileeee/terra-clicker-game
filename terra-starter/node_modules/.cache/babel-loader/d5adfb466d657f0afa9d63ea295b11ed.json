{"ast":null,"code":"import { AccAddress } from '@terra-money/terra.js';\nimport { modalStyle } from './modal.style';\nexport function readonlyWalletModal(_ref) {\n  let {\n    networks\n  } = _ref;\n  return new Promise(resolve => {\n    var _a, _b;\n\n    const styleContainer = document.createElement('style');\n    const modalContainer = document.createElement('div');\n\n    function onComplete(session) {\n      var _a, _b;\n\n      resolve(session);\n      (_a = styleContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(styleContainer);\n      (_b = modalContainer.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(modalContainer);\n    }\n\n    const element = createModalElement({\n      networks,\n      onComplete\n    });\n    styleContainer.textContent = modalStyle;\n    modalContainer.appendChild(element);\n    (_a = document.querySelector('head')) === null || _a === void 0 ? void 0 : _a.appendChild(styleContainer);\n    (_b = document.querySelector('body')) === null || _b === void 0 ? void 0 : _b.appendChild(modalContainer);\n  });\n}\n\nfunction createModalElement(_ref2) {\n  let {\n    networks,\n    onComplete\n  } = _ref2;\n  let chainID = networks[0].chainID;\n  let address = ''; // ---------------------------------------------\n  // container\n  // ---------------------------------------------\n\n  const container = document.createElement('div');\n  container.setAttribute('class', 'wallet-readonly-modal'); // ---------------------------------------------\n  // container > div.wallet-readonly-modal--dim\n  // ---------------------------------------------\n\n  const dim = document.createElement('div');\n  dim.setAttribute('class', 'wallet-readonly-modal--dim');\n  container.appendChild(dim); // ---------------------------------------------\n  // content > div.wallet-readonly-modal--content\n  // ---------------------------------------------\n\n  const content = document.createElement('section');\n  content.setAttribute('class', 'wallet-readonly-modal--content');\n  container.appendChild(content); // h1\n\n  const title = document.createElement('h1');\n  title.textContent = 'View an Address';\n  content.appendChild(title); // div\n\n  const selectContainer = document.createElement('div');\n  content.appendChild(selectContainer); // div > label\n\n  const selectLabel = document.createElement('label');\n  selectLabel.textContent = 'Network';\n  selectContainer.appendChild(selectLabel); // div > .select-wrapper\n\n  const selectWrapper = document.createElement('div');\n  selectWrapper.setAttribute('class', 'select-wrapper');\n  selectContainer.appendChild(selectWrapper); // div > .select-wrapper > select\n\n  const select = document.createElement('select');\n\n  for (const itemNetwork of networks) {\n    const option = document.createElement('option');\n    option.setAttribute('value', itemNetwork.chainID);\n\n    if (chainID === itemNetwork.chainID) {\n      option.setAttribute('selected', '');\n    }\n\n    option.textContent = `${itemNetwork.name[0].toUpperCase()}${itemNetwork.name.slice(1)} - ${itemNetwork.chainID}`;\n    select.appendChild(option);\n  }\n\n  selectWrapper.appendChild(select); // div > .select-wrapper > svg\n\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svg.setAttribute('viewbox', '0 0 24 24');\n  const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  arrow.setAttribute('d', 'M7 10l5 5 5-5z');\n  svg.appendChild(arrow);\n  selectWrapper.appendChild(svg); // div\n\n  const inputContainer = document.createElement('div');\n  content.appendChild(inputContainer); // div > label\n\n  const inputLabel = document.createElement('label');\n  inputLabel.textContent = 'Address';\n  inputContainer.appendChild(inputLabel); // div > input\n\n  const input = document.createElement('input');\n  input.setAttribute('type', 'text');\n  inputContainer.appendChild(input); // button\n\n  const button = document.createElement('button');\n  button.disabled = true;\n  button.textContent = 'View an Address';\n  content.appendChild(button); // ---------------------------------------------\n  // bind data\n  // ---------------------------------------------\n\n  dim.addEventListener('click', () => {\n    onComplete(null);\n  });\n  select.addEventListener('change', event => {\n    chainID = event.target.value;\n  });\n  input.addEventListener('input', event => {\n    address = event.target.value;\n    button.disabled = !(AccAddress.validate(address) && button.hasAttribute('disabled'));\n  });\n  button.addEventListener('click', () => {\n    const network = networks.find(itemNetwork => itemNetwork.chainID === chainID);\n\n    if (!network) {\n      return;\n    }\n\n    onComplete({\n      network,\n      terraAddress: address\n    });\n  });\n  return container;\n}","map":{"version":3,"sources":["../../../../../src/@terra-money/wallet-controller/modules/readonly-wallet/modal.ts"],"names":[],"mappings":"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","sourcesContent":["import { NetworkInfo } from '@terra-money/wallet-types';\nimport { AccAddress } from '@terra-money/terra.js';\nimport { modalStyle } from './modal.style';\nimport { ReadonlyWalletSession } from './types';\n\ninterface Options {\n  networks: NetworkInfo[];\n}\n\nexport function readonlyWalletModal({\n  networks,\n}: Options): Promise<ReadonlyWalletSession | null> {\n  return new Promise<ReadonlyWalletSession | null>((resolve) => {\n    const styleContainer = document.createElement('style');\n    const modalContainer = document.createElement('div');\n\n    function onComplete(session: ReadonlyWalletSession | null) {\n      resolve(session);\n      styleContainer.parentElement?.removeChild(styleContainer);\n      modalContainer.parentElement?.removeChild(modalContainer);\n    }\n\n    const element = createModalElement({\n      networks,\n      onComplete,\n    });\n\n    styleContainer.textContent = modalStyle;\n    modalContainer.appendChild(element);\n\n    document.querySelector('head')?.appendChild(styleContainer);\n    document.querySelector('body')?.appendChild(modalContainer);\n  });\n}\n\nfunction createModalElement({\n  networks,\n  onComplete,\n}: Options & {\n  onComplete: (session: ReadonlyWalletSession | null) => void;\n}): HTMLElement {\n  let chainID: string = networks[0].chainID;\n  let address: string = '';\n\n  // ---------------------------------------------\n  // container\n  // ---------------------------------------------\n  const container = document.createElement('div');\n  container.setAttribute('class', 'wallet-readonly-modal');\n\n  // ---------------------------------------------\n  // container > div.wallet-readonly-modal--dim\n  // ---------------------------------------------\n  const dim = document.createElement('div');\n  dim.setAttribute('class', 'wallet-readonly-modal--dim');\n\n  container.appendChild(dim);\n\n  // ---------------------------------------------\n  // content > div.wallet-readonly-modal--content\n  // ---------------------------------------------\n  const content = document.createElement('section');\n  content.setAttribute('class', 'wallet-readonly-modal--content');\n\n  container.appendChild(content);\n\n  // h1\n  const title = document.createElement('h1');\n  title.textContent = 'View an Address';\n  content.appendChild(title);\n\n  // div\n  const selectContainer = document.createElement('div');\n  content.appendChild(selectContainer);\n\n  // div > label\n  const selectLabel = document.createElement('label');\n  selectLabel.textContent = 'Network';\n  selectContainer.appendChild(selectLabel);\n\n  // div > .select-wrapper\n  const selectWrapper = document.createElement('div');\n  selectWrapper.setAttribute('class', 'select-wrapper');\n  selectContainer.appendChild(selectWrapper);\n\n  // div > .select-wrapper > select\n  const select = document.createElement('select');\n\n  for (const itemNetwork of networks) {\n    const option = document.createElement('option');\n    option.setAttribute('value', itemNetwork.chainID);\n\n    if (chainID === itemNetwork.chainID) {\n      option.setAttribute('selected', '');\n    }\n\n    option.textContent = `${itemNetwork.name[0].toUpperCase()}${itemNetwork.name.slice(\n      1,\n    )} - ${itemNetwork.chainID}`;\n\n    select.appendChild(option);\n  }\n\n  selectWrapper.appendChild(select);\n\n  // div > .select-wrapper > svg\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svg.setAttribute('viewbox', '0 0 24 24');\n\n  const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  arrow.setAttribute('d', 'M7 10l5 5 5-5z');\n  svg.appendChild(arrow);\n\n  selectWrapper.appendChild(svg);\n\n  // div\n  const inputContainer = document.createElement('div');\n  content.appendChild(inputContainer);\n\n  // div > label\n  const inputLabel = document.createElement('label');\n  inputLabel.textContent = 'Address';\n\n  inputContainer.appendChild(inputLabel);\n\n  // div > input\n  const input = document.createElement('input');\n  input.setAttribute('type', 'text');\n\n  inputContainer.appendChild(input);\n\n  // button\n  const button = document.createElement('button');\n  button.disabled = true;\n  button.textContent = 'View an Address';\n\n  content.appendChild(button);\n\n  // ---------------------------------------------\n  // bind data\n  // ---------------------------------------------\n  dim.addEventListener('click', () => {\n    onComplete(null);\n  });\n\n  select.addEventListener('change', (event) => {\n    chainID = (event.target as HTMLSelectElement).value;\n  });\n\n  input.addEventListener('input', (event) => {\n    address = (event.target as HTMLInputElement).value;\n\n    button.disabled = !(\n      AccAddress.validate(address) && button.hasAttribute('disabled')\n    );\n  });\n\n  button.addEventListener('click', () => {\n    const network = networks.find(\n      (itemNetwork) => itemNetwork.chainID === chainID,\n    );\n\n    if (!network) {\n      return;\n    }\n\n    onComplete({\n      network,\n      terraAddress: address,\n    });\n  });\n\n  return container;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}